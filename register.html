<section class="form-section">
    <h2 style="text-align:center; color:#1d3557; margin-bottom:16px;">Register Patient</h2>
    <form id="registerForm" autocomplete="on" style="max-width:500px;margin:auto;background:#f7fafd;padding:24px;border-radius:8px;box-shadow:0 2px 8px #e0eafc;">
        <div class="form-row" style="display:flex;gap:16px;">
            <div class="form-group" style="flex:1;">
                <label for="patientId" style="color:#457b9d;">Patient ID</label>
                <input type="number" id="patientId" name="patientId" required min="1" placeholder="e.g. 1001" style="width:100%;padding:8px;border:1px solid #bfc9d4;border-radius:4px;" />
            </div>
            <div class="form-group" style="flex:1;">
                <label for="dob" style="color:#457b9d;">Date of Birth</label>
                <input type="date" id="dob" name="dob" required style="width:100%;padding:8px;border:1px solid #bfc9d4;border-radius:4px;" />
            </div>

        </div>
        <div class="form-group" style="margin-top:16px;">
            <label for="fullName" style="color:#457b9d;">Full Name</label>
            <input type="text" id="fullName" name="fullName" required placeholder="e.g. John Doe" style="width:100%;padding:8px;border:1px solid #bfc9d4;border-radius:4px;" />
        </div>
        <div class="form-row" style="display:flex;gap:16px;margin-top:16px;">
            <div class="form-group" style="flex:1;">
                <label for="email" style="color:#457b9d; display:block; margin-bottom:6px;">Email Address</label>
                <input type="email" id="email" name="email" required placeholder="e.g. john@example.com" style="width:100%;padding:8px;border:1px solid #bfc9d4;border-radius:4px;" />
            </div>
            </div>
            <div class="form-group" style="flex:1;">
                <label for="phone" style="color:#457b9d;">Phone Number</label>
                <input type="tel" id="phone" name="phone" required pattern="[0-9]{10,}" placeholder="e.g. 9876543210" style="width:100%;padding:8px;border:1px solid #bfc9d4;border-radius:4px;" />
            </div>
        </div>
        <div class="form-group" style="margin-top:16px;">
            <label for="address" style="color:#457b9d;">Address</label>
            <textarea id="address" name="address" rows="3" required placeholder="Street, City, State" style="width:100%;padding:8px;border:1px solid #bfc9d4;border-radius:4px;"></textarea>
        </div>
        <button class="btn" type="submit" style="margin-top:24px;width:100%;background:#457b9d;color:#fff;padding:12px;border:none;border-radius:4px;font-size:16px;cursor:pointer;">Register Patient</button>
        <div id="successMsg" style="display:none;text-align:center;color:#2ecc71;margin-top:16px;">Patient registered successfully!</div>
    </form>
</section>

<section class="form-section">
    <h2 style="text-align:center; color:#1d3557; margin-bottom:16px;">Registered Patients</h2>
    <div id="patientsTable"></div>
</section>

<script>
    const patients = [
        {
            patientId: 1001,
            dob: "1990-01-01",
            fullName: "John Doe",
            email: "john@example.com",
            phone: "9876543210",
            address: "123 Main St, City, State"
        }
    ];

    function renderPatientsTable() {
        const tableDiv = document.getElementById('patientsTable');
        if (patients.length === 0) {
            tableDiv.innerHTML = "<p style='text-align:center;color:#888;'>No patients registered yet.</p>";
            return;
        }
        let html = `<table style="width:100%;border-collapse:collapse;">
            <thead>
                <tr style="background:#e0eafc;">
                    <th style="padding:8px;border:1px solid #bfc9d4;">ID</th>
                    <th style="padding:8px;border:1px solid #bfc9d4;">Name</th>
                    <th style="padding:8px;border:1px solid #bfc9d4;">DOB</th>
                    <th style="padding:8px;border:1px solid #bfc9d4;">Email</th>
                    <th style="padding:8px;border:1px solid #bfc9d4;">Phone</th>
                    <th style="padding:8px;border:1px solid #bfc9d4;">Address</th>
                </tr>
            </thead>
            <tbody>`;
        for (const p of patients) {
            html += `<tr>
                <td style="padding:8px;border:1px solid #bfc9d4;">${p.patientId}</td>
                <td style="padding:8px;border:1px solid #bfc9d4;">${p.fullName}</td>
                <td style="padding:8px;border:1px solid #bfc9d4;">${p.dob}</td>
                <td style="padding:8px;border:1px solid #bfc9d4;">${p.email}</td>
                <td style="padding:8px;border:1px solid #bfc9d4;">${p.phone}</td>
                <td style="padding:8px;border:1px solid #bfc9d4;">${p.address}</td>
            </tr>`;
        }
        html += "</tbody></table>";
        tableDiv.innerHTML = html;
    }

    document.getElementById('registerForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const form = e.target;
        const newPatient = {
            patientId: form.patientId.value,
            dob: form.dob.value,
            fullName: form.fullName.value,
            email: form.email.value,
            phone: form.phone.value,
            address: form.address.value
        };
        patients.push(newPatient);
        renderPatientsTable();
        document.getElementById('successMsg').style.display = 'block';
        setTimeout(function() {
            document.getElementById('successMsg').style.display = 'none';
            form.reset();
        }, 2200);
    });

    renderPatientsTable();
</script>
